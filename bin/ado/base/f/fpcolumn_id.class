*! version 1.0.0  03may2019
version 16

class fpcolumn_id {

} , inherit(fpcolumn)

program .new
	syntax [ , Style(passthru) *]

	if `"`style'"' == "" {
		local style "style(scheme fpid)"
	}

	.xpos_default = 0
	.labels = `""Study""'

	.Super.new , `macval(style)' `macval(options)'
end

program .fill_varidx
	.varidx[1] = `.serset.seriesof _meta_studylabel'
	* leave .format[1] empty on purpose
end

program .check_format
	.confirm_format string `0'
end

program .content
	args c_text COLON obs

	local result `"`.serset.value `.varidx[1]' `obs''"'

	c_local `c_text' `"`result'"'
end

program .grpcontent
	args c_text COLON res_prse grpid

	// NOTE: .label could be blank
	local result `"`.`res_prse'[`grpid'].label'"'

	c_local `c_text' `"`result'"'
end

exit
