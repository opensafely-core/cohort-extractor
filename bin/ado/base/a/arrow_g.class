//				arrow_g
//
//  a view of an arrow
//
//  This is a subview.  When drawn, assumes that the appropriate x and y
//  scales have already been set.

*! version 1.0.0  20nov2006


version 8

class {

	style	= .arrowstyle.new

	dialog	= "arrow"

} , inherit(line_g)


// --------------------------------------------------------------------------

program define draw

	if (! `.draw_view.istrue')  exit				// Exit

	.Super.draw style.linestyle

	if ("`.headpos.snm'" == "neither")  exit

	.style.headstyle.setgdifull

	local ang    `.style.headstyle.angle.radians'
	local msz    `.style.headstyle.size.val'
	local barbsz `.style.headstyle.backsize.val'

	if ("`.style.headpos.snm'"=="head" | "`.style.headpos.snm'"=="both") {
		_gr_arrowhead `ang' `msz' `barbsz' `.x0' `.y0' `.x1' `.y1'
	}

	if ("`.style.headpos.snm'"=="tail" | "`.style.headpos.snm'"=="both") {
		_gr_arrowhead `ang' `msz' `barbsz' `.x1' `.y1' `.x0' `.y0'
	}

end

